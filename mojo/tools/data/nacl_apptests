# This file contains a list of NaCl Mojo gtest unit tests.
# This must be a valid python dictionary.
# TODO(vtl|msw): Add a way of specifying data dependencies.
tests = [
  # TODO(ncbray): support other architectures.
  {
    "test": "mojo:clipboard_apptests_x64.nexe",
  },
  {
    "test": "mojo:example_apptests_x64.nexe",
    # ExampleApplicationTest.CheckCommandLineArg checks --example_apptest_arg.
    "test-args": ["--example_apptest_arg"],
  },
  {
    "test": "mojo:files_apptests_x64.nexe",
  },
  {
    "test": "mojo:mojo_view_manager_client_apptests_x64.nexe",
    "shell-args": ["--args-for=mojo:native_viewport_service --use-headless-config --use-osmesa"],
  },
  {
    "test": "mojo:view_manager_service_apptests_x64.nexe",
    "type": "gtest_isolated",
    "shell-args": ["--args-for=mojo:native_viewport_service --use-headless-config --use-osmesa"],
  },
  {
    "test": "mojo:window_manager_apptests_x64.nexe",
  },
  {
    "test": "mojo:shell_apptests_x64.nexe",
  },
  {
    "test": "mojo:monacl_test_nonsfi",
    # Multiprocess mode is required for the nonsfi nacl tests: the content
    # handler for these tests must exist in a 32-bit process but the parent
    # may be a 64-bit process. This makes multithreading insufficient for
    # these tests.
    "shell-args": ["--enable-multiprocess"],
  },
  # TODO(ncbray): http_server_apptests (uses two-stage data pipe reads)
]
